<div class="add-single-item">
  @if (currentStep === 2) {
    <a href="#" class="add-single-item__back-link" (click)="goToStep1(); $event.preventDefault()">
      &lt; wróć do poprzedniego kroku
    </a>
  }

  <div class="add-single-item__step-indicator">
    @if (currentStep === 1) {
      <span class="add-single-item__step-text">Krok 1/2</span>
    } @else {
      <span class="add-single-item__step-text">Krok 2/2</span>
    }
  </div>

  <h1 class="add-single-item__title">Dodaj nowy przedmiot</h1>

  @if (currentStep === 1) {
    <form class="form" (ngSubmit)="goToStep2()">
      <div class="form__group">
        <label for="name" class="form__label form__label--required">
          Rodzaj przedmiotu
        </label>
        <input
          type="text"
          id="name"
          name="name"
          class="form__input"
          [(ngModel)]="name"
          placeholder="Wpisz nazwę przedmiotu, np. Słuchawki"
          required
        />
      </div>

      <div class="form__group">
        <label for="itemColor" class="form__label">
          Kolor przedmiotu (opcjonalnie)
        </label>
        <input
          type="text"
          id="itemColor"
          name="itemColor"
          class="form__input"
          [(ngModel)]="itemColor"
          placeholder="Np. biały"
        />
      </div>

      <div class="form__group">
        <label for="additionalInfo" class="form__label">
          Dodatkowe informacje o przedmiocie (opcjonalnie)
        </label>
        <textarea
          id="additionalInfo"
          name="additionalInfo"
          class="form__textarea"
          [(ngModel)]="additionalInfo"
          placeholder="Znaki szczególne, np. różowa plama na prawej słuchawce"
          rows="4"
        ></textarea>
      </div>

      <div class="form__group">
        <a href="#" class="add-single-item__photo-link" (click)="$event.preventDefault()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="add-single-item__photo-icon">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <circle cx="8.5" cy="8.5" r="1.5"></circle>
            <polyline points="21 15 16 10 5 21"></polyline>
          </svg>
          Dodaj zdjęcie (opcjonalnie)
        </a>
      </div>

      <div class="add-single-item__layout">
        <div class="add-single-item__form-section">
          <div class="form__button-group">
            <button type="button" class="form__button form__button--secondary" (click)="cancelForm()">
              Anuluj wypełnianie
            </button>
            <button type="submit" class="form__button form__button--primary">
              Przejdź do Kroku 2
            </button>
          </div>
        </div>

        <div class="add-single-item__instruction-box">
          <div class="add-single-item__instruction-label">Instrukcja</div>
          <div class="add-single-item__instruction-content">
            <!-- Treść instrukcji będzie dodana później -->
          </div>
        </div>
      </div>
    </form>
  }

  @if (currentStep === 2) {
    <form class="form" (ngSubmit)="addItem()">
      <div class="form__group">
        <label for="foundDate" class="form__label form__label--required">
          Data znalezienia
        </label>
        <input
          type="date"
          id="foundDate"
          name="foundDate"
          class="form__input"
          [(ngModel)]="foundDate"
          required
        />
      </div>

      <div class="form__group">
        <label for="location" class="form__label form__label--required">
          Miejscowość
        </label>
        <input
          type="text"
          id="location"
          name="location"
          class="form__input"
          [(ngModel)]="location"
          placeholder="Wpisz miejscowość"
          list="locations-list"
          required
        />
        <datalist id="locations-list">
          <!-- TODO: Dodać listę miejscowości z API -->
        </datalist>
      </div>

      <div class="form__group">
        <label for="foundPlace" class="form__label">
          Miejsce znalezienia (opcjonalnie)
        </label>
        <input
          type="text"
          id="foundPlace"
          name="foundPlace"
          class="form__input"
          [(ngModel)]="foundPlace"
          placeholder="Biedronka, ul. Legnicka 314"
        />
      </div>

      <div class="form__group">
        <label for="warehousePlace" class="form__label form__label--required">
          Miejsce w magazynie
        </label>
        <input
          type="text"
          id="warehousePlace"
          name="warehousePlace"
          class="form__input"
          [(ngModel)]="warehousePlace"
          placeholder="Wpisz miejsce w magazynie"
          required
        />
      </div>

      <div class="form__button-group">
        <button type="button" class="form__button form__button--secondary" (click)="cancelForm()">
          Anuluj wypełnianie
        </button>
        <button type="submit" class="form__button form__button--primary">
          Dodaj przedmiot do rejestru
        </button>
      </div>
    </form>
  }
</div>
